@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply min-h-screen bg-gradient-to-br from-emerald-50 via-white to-slate-50 text-brand-foreground antialiased font-sans
           dark:bg-gradient-to-br dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 dark:text-slate-100;
  }

  a {
    @apply text-emerald-600 transition-colors hover:text-emerald-700 hover:underline
           dark:text-emerald-300 dark:hover:text-emerald-200;
  }

  img,
  svg,
  canvas,
  video {
    @apply block max-w-full;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-transparent bg-gradient-to-r
           from-emerald-500 via-emerald-400 to-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-md
           transition duration-200 ease-out hover:brightness-105 hover:-translate-y-0.5 hover:shadow-lg
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-offset-2
           focus-visible:ring-offset-white active:translate-y-0 dark:from-emerald-500 dark:via-emerald-500
           dark:to-emerald-600 dark:hover:brightness-110 dark:focus-visible:ring-offset-slate-900;
  }

  .btn-secondary {
    @apply border border-emerald-200 bg-none bg-white/80 text-emerald-700 shadow-sm transition
           hover:bg-emerald-100 hover:text-emerald-800 hover:shadow-md
           focus-visible:ring-emerald-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:border-emerald-700 dark:bg-none dark:bg-slate-900/80 dark:text-emerald-200
           dark:hover:bg-slate-900 dark:focus-visible:ring-emerald-600 dark:focus-visible:ring-offset-slate-900;
  }

  .btn-danger {
    @apply border border-rose-300 bg-none bg-rose-500/90 text-white shadow-md transition
           hover:bg-rose-500 hover:shadow-lg
           focus-visible:ring-rose-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white
           dark:border-rose-600 dark:bg-rose-600/80 dark:hover:bg-rose-500 dark:focus-visible:ring-offset-slate-900;
  }

  .btn.is-disabled,
  [disabled].btn,
  a.btn.is-disabled {
    @apply cursor-not-allowed opacity-60 pointer-events-none;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  label {
    @apply mb-1 block text-sm font-semibold tracking-wide text-slate-700 dark:text-emerald-200;
  }

  .input,
  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='tel'],
  input[type='number'],
  input[type='date'],
  select,
  textarea {
    @apply box-border block w-full rounded-xl border border-emerald-100 bg-white/80
           px-3 py-2 text-base text-brand-foreground shadow-sm outline-none transition
           placeholder:text-slate-400 backdrop-blur
           hover:border-emerald-200 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200
           dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-100 dark:placeholder:text-slate-500
           dark:hover:border-emerald-600 dark:focus:border-emerald-500 dark:focus:ring-emerald-700;
  }

  .input,
  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='tel'],
  input[type='number'],
  input[type='date'],
  select {
    @apply h-11 leading-tight;
  }

  .help {
    @apply mt-1 text-sm text-slate-500 dark:text-slate-400;
  }

  .errors {
    @apply mt-1 text-sm text-rose-600 dark:text-rose-300;
  }

  .alert {
    @apply rounded-2xl border border-emerald-100 bg-white/80 px-4 py-3 font-medium shadow-lg backdrop-blur transition-all
           dark:border-slate-700 dark:bg-slate-900/80;
  }

  .muted {
    @apply text-slate-500 dark:text-slate-400;
  }

  .section-divider {
    @apply my-5 border-0 border-t border-slate-200 dark:border-slate-700;
  }

  .checkbox {
    @apply flex items-center gap-2;
  }

  textarea,
  textarea.input {
    @apply min-h-[6rem] resize-y;
  }

  .priority-badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide;
  }

  .priority-badge--high {
    @apply bg-rose-500 text-white;
  }

  .priority-badge--medium {
    @apply bg-amber-500 text-white;
  }

  .priority-badge--low {
    @apply bg-emerald-500 text-white;
  }

  .break-words {
    overflow-wrap: break-word;
    word-break: break-word;
  }

  .hyphens-auto {
    hyphens: auto;
  }

  .form-actions {
    @apply mt-2 flex gap-4;
  }

  table thead th {
    @apply bg-emerald-50/80 text-slate-600 backdrop-blur
           dark:bg-slate-900/80 dark:text-slate-200;
  }

  table tbody tr {
    @apply transition-colors;
  }

  table tbody tr:nth-child(even) td {
    @apply bg-white/60 dark:bg-slate-900/60;
  }

  table tbody tr:hover td {
    @apply bg-emerald-50/70 dark:bg-slate-800/70;
  }
}

@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
@layer base {
  input[data-theme-toggle] {
    @apply hidden;
  }
}

/* Flash message colors */
.alert--success {
  border-color: #86efac;
  background-color: #dcfce7;
  color: #065f46;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--warning {
  border-color: #fcd34d;
  background-color: #fef3c7;
  color: #92400e;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--info {
  border-color: #bfdbfe;
  background-color: #e0f2fe;
  color: #1e3a8a;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--danger,
.alert--error {
  border-color: #fca5a5;
  background-color: #fee2e2;
  color: #991b1b;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}
