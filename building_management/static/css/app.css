@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply min-h-screen bg-slate-50 text-brand-foreground antialiased font-sans
           dark:bg-slate-950 dark:text-slate-100;
  }

  a {
    @apply text-sky-600 transition-colors hover:text-sky-700 hover:underline
           dark:text-sky-300 dark:hover:text-sky-200;
  }

  img,
  svg,
  canvas,
  video {
    @apply block max-w-full;
  }
}

@layer components {
  .row {
    @apply flex items-center;
  }

  .space-between {
    @apply justify-between;
  }

  .gap {
    @apply gap-4;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white
           px-3 py-2 text-sm font-medium text-brand-foreground shadow-sm transition
           hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300
           dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:hover:bg-slate-800;
  }

  .btn-secondary {
    @apply border-sky-200 bg-sky-50 text-sky-700 hover:bg-sky-100
           dark:border-sky-700 dark:bg-sky-950 dark:text-sky-200 dark:hover:bg-sky-900;
  }

  .btn-danger {
    @apply border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100
           dark:border-rose-700 dark:bg-rose-950 dark:text-rose-200 dark:hover:bg-rose-900;
  }

  .btn.is-disabled,
  [disabled].btn,
  a.btn.is-disabled {
    @apply cursor-not-allowed opacity-60 pointer-events-none;
  }

  .btn-equal {
    @apply min-w-[160px];
  }

  .btn-sm {
    @apply px-2.5 py-1.5 text-xs;
  }

  .form-row {
    @apply mb-4;
  }

  .form-row.has-errors .input,
  .form-row.has-errors input,
  .form-row.has-errors select,
  .form-row.has-errors textarea {
    @apply border-rose-300 ring-2 ring-rose-200/70;
  }

  label {
    @apply mb-1 block text-sm font-semibold text-slate-800 dark:text-slate-200;
  }

  .input,
  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='tel'],
  input[type='number'],
  input[type='date'],
  select,
  textarea {
    @apply box-border block w-full rounded-lg border border-slate-200 bg-white
           px-3 py-2 text-base text-brand-foreground shadow-sm outline-none transition
           focus:border-sky-300 focus:ring-2 focus:ring-sky-200
           dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100;
  }

  .input,
  input[type='text'],
  input[type='password'],
  input[type='email'],
  input[type='tel'],
  input[type='number'],
  input[type='date'],
  select {
    @apply h-11 leading-tight;
  }

  .input-search {
    @apply px-3 py-2;
  }

  .input-group.joined {
    @apply flex;
  }

  .input-group.joined > .input-search {
    @apply flex-1 rounded-r-none;
  }

  .input-group.joined > .btn {
    @apply rounded-l-none border-l-0;
  }

  .help {
    @apply mt-1 text-sm text-slate-500 dark:text-slate-400;
  }

  .errors {
    @apply mt-1 text-sm text-rose-600 dark:text-rose-300;
  }

  .alert {
    @apply rounded-xl border px-3 py-3 font-medium shadow-sm transition-colors;
  }

  .muted {
    @apply text-slate-500 dark:text-slate-400;
  }

  .section-divider {
    @apply my-5 border-0 border-t border-slate-200 dark:border-slate-700;
  }

  .checkbox {
    @apply flex items-center gap-2;
  }

  textarea,
  textarea.input {
    @apply min-h-[6rem] resize-y;
  }

  .priority-badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide;
  }

  .priority-badge--high {
    @apply bg-rose-500 text-white;
  }

  .priority-badge--medium {
    @apply bg-amber-500 text-white;
  }

  .priority-badge--low {
    @apply bg-emerald-500 text-white;
  }

  .form-actions {
    @apply mt-2 flex gap-4;
  }
}

@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
@layer base {
  input[data-theme-toggle] {
    @apply hidden;
  }
}

/* Flash message colors */
.alert--success {
  border-color: #86efac;
  background-color: #dcfce7;
  color: #065f46;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--warning {
  border-color: #fcd34d;
  background-color: #fef3c7;
  color: #92400e;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--info {
  border-color: #bfdbfe;
  background-color: #e0f2fe;
  color: #1e3a8a;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}

.alert--danger,
.alert--error {
  border-color: #fca5a5;
  background-color: #fee2e2;
  color: #991b1b;
  box-shadow: 0 10px 30px -12px rgba(15, 23, 42, 0.25);
}
